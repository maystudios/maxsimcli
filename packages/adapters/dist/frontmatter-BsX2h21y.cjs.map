{"version":3,"file":"frontmatter-BsX2h21y.cjs","names":["extractFrontmatterAndBody"],"sources":["../src/transforms/tool-maps.ts","../src/transforms/content.ts","../src/transforms/frontmatter.ts"],"sourcesContent":["/**\n * @maxsim/adapters — Tool name mappings per runtime\n *\n * Ported from bin/install.js lines ~327-390\n */\n\n/** Tool name mapping from Claude Code to OpenCode */\nconst claudeToOpencodeTools: Record<string, string> = {\n  AskUserQuestion: 'question',\n  SlashCommand: 'skill',\n  TodoWrite: 'todowrite',\n  WebFetch: 'webfetch',\n  WebSearch: 'websearch',\n};\n\n/** Tool name mapping from Claude Code to Gemini CLI */\nconst claudeToGeminiTools: Record<string, string> = {\n  Read: 'read_file',\n  Write: 'write_file',\n  Edit: 'replace',\n  Bash: 'run_shell_command',\n  Glob: 'glob',\n  Grep: 'search_file_content',\n  WebSearch: 'google_web_search',\n  WebFetch: 'web_fetch',\n  TodoWrite: 'write_todos',\n  AskUserQuestion: 'ask_user',\n};\n\n/**\n * Convert a Claude Code tool name to OpenCode format.\n * - Applies special mappings (AskUserQuestion -> question, etc.)\n * - Converts to lowercase (except MCP tools which keep their format)\n */\nexport function convertToolName(claudeTool: string): string {\n  if (claudeToOpencodeTools[claudeTool]) {\n    return claudeToOpencodeTools[claudeTool];\n  }\n  if (claudeTool.startsWith('mcp__')) {\n    return claudeTool;\n  }\n  return claudeTool.toLowerCase();\n}\n\n/**\n * Convert a Claude Code tool name to Gemini CLI format.\n * - Applies Claude->Gemini mapping (Read->read_file, Bash->run_shell_command, etc.)\n * - Filters out MCP tools (mcp__*) -- auto-discovered at runtime in Gemini\n * - Filters out Task -- agents are auto-registered as tools in Gemini\n * @returns Gemini tool name, or null if tool should be excluded\n */\nexport function convertGeminiToolName(claudeTool: string): string | null {\n  if (claudeTool.startsWith('mcp__')) {\n    return null;\n  }\n  if (claudeTool === 'Task') {\n    return null;\n  }\n  if (claudeToGeminiTools[claudeTool]) {\n    return claudeToGeminiTools[claudeTool];\n  }\n  return claudeTool.toLowerCase();\n}\n","/**\n * @maxsim/adapters — Content transformation utilities\n *\n * Ported from bin/install.js lines ~423-564\n */\n\nimport { convertGeminiToolName } from './tool-maps.js';\n\n/**\n * Convert /maxsim:command-name to $maxsim-command-name for Codex skill mentions.\n * Ported from install.js line ~423\n */\nexport function convertSlashCommandsToCodexSkillMentions(content: string): string {\n  let converted = content.replace(/\\/maxsim:([a-z0-9-]+)/gi, (_, commandName: string) => {\n    return `$maxsim-${String(commandName).toLowerCase()}`;\n  });\n  converted = converted.replace(/\\/maxsim-help\\b/g, '$maxsim-help');\n  return converted;\n}\n\n/**\n * Convert Claude markdown to Codex markdown format.\n * Replaces slash commands and $ARGUMENTS placeholder.\n * Ported from install.js line ~431\n */\nexport function convertClaudeToCodexMarkdown(content: string): string {\n  let converted = convertSlashCommandsToCodexSkillMentions(content);\n  converted = converted.replace(/\\$ARGUMENTS\\b/g, '{{MAXSIM_ARGS}}');\n  return converted;\n}\n\n/**\n * Strip HTML <sub> tags for Gemini CLI output.\n * Terminals don't support subscript -- converts <sub>text</sub> to italic *(text)*.\n * Ported from install.js line ~474\n */\nexport function stripSubTags(content: string): string {\n  return content.replace(/<sub>(.*?)<\\/sub>/g, '*($1)*');\n}\n\n/**\n * Convert Claude Code agent frontmatter to Gemini CLI format.\n * - tools: must be a YAML array (not comma-separated string)\n * - tool names: must use Gemini built-in names (read_file, not Read)\n * - color: must be removed (causes validation error)\n * - mcp__* tools: must be excluded (auto-discovered at runtime)\n * - ${VAR} patterns: escaped to $VAR for Gemini template compatibility\n *\n * Ported from install.js line ~487\n */\nexport function convertClaudeToGeminiAgent(content: string): string {\n  if (!content.startsWith('---')) return content;\n\n  const endIndex = content.indexOf('---', 3);\n  if (endIndex === -1) return content;\n\n  const frontmatter = content.substring(3, endIndex).trim();\n  const body = content.substring(endIndex + 3);\n\n  const lines = frontmatter.split('\\n');\n  const newLines: string[] = [];\n  let inAllowedTools = false;\n  const tools: string[] = [];\n\n  for (const line of lines) {\n    const trimmed = line.trim();\n\n    if (trimmed.startsWith('allowed-tools:')) {\n      inAllowedTools = true;\n      continue;\n    }\n\n    if (trimmed.startsWith('tools:')) {\n      const toolsValue = trimmed.substring(6).trim();\n      if (toolsValue) {\n        const parsed = toolsValue.split(',').map((t) => t.trim()).filter((t) => t);\n        for (const t of parsed) {\n          const mapped = convertGeminiToolName(t);\n          if (mapped) tools.push(mapped);\n        }\n      } else {\n        inAllowedTools = true;\n      }\n      continue;\n    }\n\n    if (trimmed.startsWith('color:')) continue;\n\n    if (inAllowedTools) {\n      if (trimmed.startsWith('- ')) {\n        const mapped = convertGeminiToolName(trimmed.substring(2).trim());\n        if (mapped) tools.push(mapped);\n        continue;\n      } else if (trimmed && !trimmed.startsWith('-')) {\n        inAllowedTools = false;\n      }\n    }\n\n    if (!inAllowedTools) {\n      newLines.push(line);\n    }\n  }\n\n  if (tools.length > 0) {\n    newLines.push('tools:');\n    for (const tool of tools) {\n      newLines.push(`  - ${tool}`);\n    }\n  }\n\n  const newFrontmatter = newLines.join('\\n').trim();\n\n  // Escape ${VAR} patterns in agent body for Gemini CLI compatibility.\n  const escapedBody = body.replace(/\\$\\{(\\w+)\\}/g, '$$$1');\n\n  return `---\\n${newFrontmatter}\\n---${stripSubTags(escapedBody)}`;\n}\n\n/**\n * Replace path references in markdown content for a target runtime.\n * Replaces ~/.claude/ with pathPrefix and ./.claude/ with ./dirName/.\n */\nexport function replacePathReferences(\n  content: string,\n  pathPrefix: string,\n  dirName: string,\n): string {\n  const globalClaudeRegex = /~\\/\\.claude\\//g;\n  const localClaudeRegex = /\\.\\/\\.claude\\//g;\n  let result = content.replace(globalClaudeRegex, pathPrefix);\n  result = result.replace(localClaudeRegex, `./${dirName}/`);\n  return result;\n}\n","/**\n * @maxsim/adapters — Frontmatter conversion functions for opencode, gemini, codex\n *\n * Ported from bin/install.js lines ~308-711\n */\n\nimport { extractFrontmatterAndBody } from '../base.js';\nimport { convertToolName } from './tool-maps.js';\nimport { convertClaudeToCodexMarkdown } from './content.js';\n\n/** Color name to hex mapping for opencode compatibility */\nexport const colorNameToHex: Record<string, string> = {\n  cyan: '#00FFFF',\n  red: '#FF0000',\n  green: '#00FF00',\n  blue: '#0000FF',\n  yellow: '#FFFF00',\n  magenta: '#FF00FF',\n  orange: '#FFA500',\n  purple: '#800080',\n  pink: '#FFC0CB',\n  white: '#FFFFFF',\n  black: '#000000',\n  gray: '#808080',\n  grey: '#808080',\n};\n\n/** Collapse whitespace to single line */\nexport function toSingleLine(value: string): string {\n  return value.replace(/\\s+/g, ' ').trim();\n}\n\n/** Quote a value for YAML using JSON.stringify */\nexport function yamlQuote(value: string): string {\n  return JSON.stringify(value);\n}\n\n/** Extract a single-line field value from YAML frontmatter text */\nexport function extractFrontmatterField(\n  frontmatter: string,\n  fieldName: string,\n): string | null {\n  const regex = new RegExp(`^${fieldName}:\\\\s*(.+)$`, 'm');\n  const match = frontmatter.match(regex);\n  if (!match) return null;\n  return match[1].trim().replace(/^['\"]|['\"]$/g, '');\n}\n\n/**\n * Convert Claude Code frontmatter to OpenCode format.\n * - Converts 'allowed-tools:' array to 'tools:' object with tool: true entries\n * - Converts color names to hex\n * - Removes name: field (opencode uses filename)\n * - Replaces tool name references in body content\n * - Replaces /maxsim: with /maxsim- (flat command structure)\n * - Replaces ~/.claude with ~/.config/opencode\n * - Replaces subagent_type=\"general-purpose\" with \"general\"\n *\n * Ported from install.js line ~566\n */\nexport function convertClaudeToOpencodeFrontmatter(content: string): string {\n  // Replace tool name references in content (applies to all files)\n  let convertedContent = content;\n  convertedContent = convertedContent.replace(/\\bAskUserQuestion\\b/g, 'question');\n  convertedContent = convertedContent.replace(/\\bSlashCommand\\b/g, 'skill');\n  convertedContent = convertedContent.replace(/\\bTodoWrite\\b/g, 'todowrite');\n  convertedContent = convertedContent.replace(/\\/maxsim:/g, '/maxsim-');\n  convertedContent = convertedContent.replace(/~\\/\\.claude\\b/g, '~/.config/opencode');\n  convertedContent = convertedContent.replace(\n    /subagent_type=\"general-purpose\"/g,\n    'subagent_type=\"general\"',\n  );\n\n  if (!convertedContent.startsWith('---')) {\n    return convertedContent;\n  }\n\n  const endIndex = convertedContent.indexOf('---', 3);\n  if (endIndex === -1) {\n    return convertedContent;\n  }\n\n  const frontmatter = convertedContent.substring(3, endIndex).trim();\n  const body = convertedContent.substring(endIndex + 3);\n\n  const lines = frontmatter.split('\\n');\n  const newLines: string[] = [];\n  let inAllowedTools = false;\n  const allowedTools: string[] = [];\n\n  for (const line of lines) {\n    const trimmed = line.trim();\n\n    if (trimmed.startsWith('allowed-tools:')) {\n      inAllowedTools = true;\n      continue;\n    }\n\n    if (trimmed.startsWith('tools:')) {\n      const toolsValue = trimmed.substring(6).trim();\n      if (toolsValue) {\n        const tools = toolsValue.split(',').map((t) => t.trim()).filter((t) => t);\n        allowedTools.push(...tools);\n      }\n      continue;\n    }\n\n    if (trimmed.startsWith('name:')) {\n      continue;\n    }\n\n    if (trimmed.startsWith('color:')) {\n      const colorValue = trimmed.substring(6).trim().toLowerCase();\n      const hexColor = colorNameToHex[colorValue];\n      if (hexColor) {\n        newLines.push(`color: \"${hexColor}\"`);\n      } else if (colorValue.startsWith('#')) {\n        if (/^#[0-9a-f]{3}$|^#[0-9a-f]{6}$/i.test(colorValue)) {\n          newLines.push(line);\n        }\n      }\n      continue;\n    }\n\n    if (inAllowedTools) {\n      if (trimmed.startsWith('- ')) {\n        allowedTools.push(trimmed.substring(2).trim());\n        continue;\n      } else if (trimmed && !trimmed.startsWith('-')) {\n        inAllowedTools = false;\n      }\n    }\n\n    if (!inAllowedTools) {\n      newLines.push(line);\n    }\n  }\n\n  if (allowedTools.length > 0) {\n    newLines.push('tools:');\n    for (const tool of allowedTools) {\n      newLines.push(`  ${convertToolName(tool)}: true`);\n    }\n  }\n\n  const newFrontmatter = newLines.join('\\n').trim();\n  return `---\\n${newFrontmatter}\\n---${body}`;\n}\n\n/**\n * Convert Claude Code markdown command to Gemini TOML format.\n * Ported from install.js line ~677\n */\nexport function convertClaudeToGeminiToml(content: string): string {\n  if (!content.startsWith('---')) {\n    return `prompt = ${JSON.stringify(content)}\\n`;\n  }\n\n  const endIndex = content.indexOf('---', 3);\n  if (endIndex === -1) {\n    return `prompt = ${JSON.stringify(content)}\\n`;\n  }\n\n  const frontmatter = content.substring(3, endIndex).trim();\n  const body = content.substring(endIndex + 3).trim();\n\n  let description = '';\n  const lines = frontmatter.split('\\n');\n  for (const line of lines) {\n    const trimmed = line.trim();\n    if (trimmed.startsWith('description:')) {\n      description = trimmed.substring(12).trim();\n      break;\n    }\n  }\n\n  let toml = '';\n  if (description) {\n    toml += `description = ${JSON.stringify(description)}\\n`;\n  }\n  toml += `prompt = ${JSON.stringify(body)}\\n`;\n\n  return toml;\n}\n\n/**\n * Convert Claude command to Codex skill format with adapter header.\n * Ported from install.js line ~452\n */\nexport function convertClaudeCommandToCodexSkill(\n  content: string,\n  skillName: string,\n): string {\n  const converted = convertClaudeToCodexMarkdown(content);\n  const { frontmatter, body } = extractFrontmatterAndBody(converted);\n  let description = `Run MAXSIM workflow ${skillName}.`;\n  if (frontmatter) {\n    const maybeDescription = extractFrontmatterField(frontmatter, 'description');\n    if (maybeDescription) {\n      description = maybeDescription;\n    }\n  }\n  description = toSingleLine(description);\n  const shortDescription =\n    description.length > 180 ? `${description.slice(0, 177)}...` : description;\n  const adapter = getCodexSkillAdapterHeader(skillName);\n\n  return `---\\nname: ${yamlQuote(skillName)}\\ndescription: ${yamlQuote(description)}\\nmetadata:\\n  short-description: ${yamlQuote(shortDescription)}\\n---\\n\\n${adapter}\\n\\n${body.trimStart()}`;\n}\n\n/**\n * Generate the Codex skill adapter header block.\n * Ported from install.js line ~437\n */\nexport function getCodexSkillAdapterHeader(skillName: string): string {\n  const invocation = `$${skillName}`;\n  return `<codex_skill_adapter>\nCodex skills-first mode:\n- This skill is invoked by mentioning \\`${invocation}\\`.\n- Treat all user text after \\`${invocation}\\` as \\`{{MAXSIM_ARGS}}\\`.\n- If no arguments are present, treat \\`{{MAXSIM_ARGS}}\\` as empty.\n\nLegacy orchestration compatibility:\n- Any \\`Task(...)\\` pattern in referenced workflow docs is legacy syntax.\n- Implement equivalent behavior with Codex collaboration tools: \\`spawn_agent\\`, \\`wait\\`, \\`send_input\\`, and \\`close_agent\\`.\n- Treat legacy \\`subagent_type\\` names as role hints in the spawned message.\n</codex_skill_adapter>`;\n}\n"],"mappings":"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"}