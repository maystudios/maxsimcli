---
phase: 13-live-project-dashboard
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/dashboard/package.json
  - packages/dashboard/project.json
  - packages/dashboard/tsconfig.json
  - packages/dashboard/next.config.mjs
  - packages/dashboard/postcss.config.mjs
  - packages/dashboard/app/layout.tsx
  - packages/dashboard/app/globals.css
  - packages/dashboard/app/page.tsx
  - packages/dashboard/lib/utils.ts
  - packages/dashboard/lib/types.ts
  - packages/dashboard/components.json
autonomous: true
requirements: []

must_haves:
  truths:
    - "packages/dashboard exists as a registered NX project in the monorepo"
    - "pnpm install resolves all dashboard dependencies without errors"
    - "next build completes with zero TypeScript errors"
    - "Tailwind v4 CSS-first config applies dark theme by default"
    - "Aceternity UI cn() utility is available at lib/utils.ts"
  artifacts:
    - path: "packages/dashboard/package.json"
      provides: "ESM package with Next.js 15, React 19, ws, chokidar, CodeMirror, motion deps"
      contains: '"type": "module"'
    - path: "packages/dashboard/project.json"
      provides: "NX project config with build, dev, start targets"
      contains: '"name": "dashboard"'
    - path: "packages/dashboard/next.config.mjs"
      provides: "Next.js 15 config with standalone output and transpilePackages for @maxsim/core"
    - path: "packages/dashboard/app/layout.tsx"
      provides: "Root layout with dark theme, Inter + JetBrains Mono fonts, global CSS"
      min_lines: 20
    - path: "packages/dashboard/app/globals.css"
      provides: "Tailwind v4 @import + Swiss Style dark theme CSS variables"
      min_lines: 15
    - path: "packages/dashboard/lib/utils.ts"
      provides: "cn() utility for Tailwind class merging"
      exports: ["cn"]
    - path: "packages/dashboard/lib/types.ts"
      provides: "Dashboard-specific type definitions"
      min_lines: 20
  key_links:
    - from: "packages/dashboard/package.json"
      to: "@maxsim/core"
      via: "workspace:* dependency"
      pattern: '"@maxsim/core":\\s*"workspace:\\*"'
    - from: "packages/dashboard/app/layout.tsx"
      to: "packages/dashboard/app/globals.css"
      via: "CSS import"
      pattern: 'import.*globals.css'
---

<objective>
Scaffold the `packages/dashboard` NX package with Next.js 15, Tailwind v4, Aceternity UI, and all core dependencies installed and configured.

Purpose: Establish the project foundation that all subsequent plans build on -- the NX package structure, dependency wiring, TypeScript config, dark-themed layout shell, and utility functions.
Output: A buildable Next.js 15 App Router application registered as an NX project in the monorepo, with dark Swiss Style Design theme applied.
</objective>

<execution_context>
@./workflows/execute-plan.md
@./templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/13-live-project-dashboard/13-CONTEXT.md
@.planning/phases/13-live-project-dashboard/13-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create packages/dashboard NX package with all dependencies</name>
  <files>
    packages/dashboard/package.json
    packages/dashboard/project.json
    packages/dashboard/tsconfig.json
    packages/dashboard/next.config.mjs
    packages/dashboard/postcss.config.mjs
  </files>
  <action>
  Create the `packages/dashboard` directory and initialize it as an NX project:

  1. **package.json** — ESM package (`"type": "module"`) with:
     - `name`: `@maxsim/dashboard`
     - `private`: true (not published to npm)
     - `dependencies`: next@15, react@19, react-dom@19, ws@^8, chokidar@^5, motion@^12, clsx@^2, tailwind-merge@^3, detect-port@^2, open@^10, @uiw/react-codemirror@^4, @codemirror/lang-markdown@^6, @codemirror/theme-one-dark@^6
     - `devDependencies`: @types/ws, @types/react, @types/react-dom, tailwindcss@^4, @tailwindcss/postcss@^4, postcss, typescript, @types/node
     - `dependencies` also includes: `@maxsim/core: "workspace:*"`
     - `scripts`: `"dev": "node --import tsx server.ts"`, `"build": "next build"`, `"start": "node server.js"`

  2. **project.json** — NX project registration:
     ```json
     {
       "$schema": "../../node_modules/nx/schemas/project-schema.json",
       "name": "dashboard",
       "root": "packages/dashboard",
       "targets": {
         "build": {
           "executor": "nx:run-commands",
           "options": {
             "command": "pnpm run build",
             "cwd": "packages/dashboard"
           },
           "outputs": ["{projectRoot}/.next"]
         },
         "dev": {
           "executor": "nx:run-commands",
           "options": {
             "command": "pnpm run dev",
             "cwd": "packages/dashboard"
           }
         }
       }
     }
     ```

  3. **tsconfig.json** — Extends root tsconfig.base.json, includes `app/`, `lib/`, `server.ts`; sets `jsx: "preserve"`, `module: "ESNext"`, `moduleResolution: "bundler"`, `paths: { "@/*": ["./*"] }`. Add `"plugins": [{ "name": "next" }]`.

  4. **next.config.mjs** — Set `output: "standalone"`, `transpilePackages: ["@maxsim/core"]`, `reactStrictMode: true`. The standalone output is needed for the custom server subprocess pattern.

  5. **postcss.config.mjs** — Configure `@tailwindcss/postcss` plugin for Tailwind v4 CSS-first processing.

  Run `pnpm install` from workspace root after creating these files.
  </action>
  <verify>
    <automated>cd C:/Development/cli/maxsim && pnpm install && cd packages/dashboard && npx next build 2>&1 | tail -5</automated>
  </verify>
  <done>packages/dashboard exists with all deps installed, NX recognizes it as a project, and next build completes without errors</done>
</task>

<task type="auto">
  <name>Task 2: Create root layout, dark theme globals, utility functions, and placeholder page</name>
  <files>
    packages/dashboard/app/layout.tsx
    packages/dashboard/app/globals.css
    packages/dashboard/app/page.tsx
    packages/dashboard/lib/utils.ts
    packages/dashboard/lib/types.ts
    packages/dashboard/components.json
  </files>
  <action>
  1. **app/globals.css** — Tailwind v4 CSS-first config with dark Swiss Style Design theme:
     ```css
     @import "tailwindcss";

     @theme {
       --color-background: #0a0a0a;
       --color-foreground: #fafafa;
       --color-muted: #27272a;
       --color-muted-foreground: #a1a1aa;
       --color-accent: #3b82f6;
       --color-accent-glow: #60a5fa;
       --color-success: #22c55e;
       --color-warning: #eab308;
       --color-danger: #ef4444;
       --color-border: #27272a;
       --color-card: #18181b;
       --color-card-hover: #1f1f23;

       --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
       --font-sans: 'Inter', 'Helvetica Neue', Arial, sans-serif;

       --radius-sm: 0.25rem;
       --radius-md: 0.5rem;
       --radius-lg: 0.75rem;
     }

     body {
       background-color: var(--color-background);
       color: var(--color-foreground);
       font-family: var(--font-sans);
     }
     ```

  2. **app/layout.tsx** — Root layout Server Component:
     - Import globals.css
     - Use Inter and JetBrains Mono from next/font/google
     - Set metadata: title "MAXSIM Dashboard", description "Live project dashboard for MAXSIM"
     - Apply dark background color via className
     - Set html lang="en" and dark class on body

  3. **app/page.tsx** — Minimal placeholder Server Component that renders "MAXSIM Dashboard" heading with a subtitle "Loading..." — this will be replaced in Plan 04 with the real dashboard UI.

  4. **lib/utils.ts** — Export `cn()` function using clsx + tailwind-merge (required by Aceternity UI components):
     ```typescript
     import { clsx, type ClassValue } from "clsx";
     import { twMerge } from "tailwind-merge";
     export function cn(...inputs: ClassValue[]) {
       return twMerge(clsx(inputs));
     }
     ```

  5. **lib/types.ts** — Define dashboard-specific TypeScript types:
     - `DashboardPhase`: { number, name, goal, dependsOn, planCount, summaryCount, diskStatus, roadmapComplete, hasContext, hasResearch }
     - `DashboardStats`: { milestoneProgress, currentPhase, completedPhases, totalPhases, openBlockers, openTodos }
     - `DashboardState`: { position, lastActivity, currentPhase, currentPlan, status }
     - `PlanTask`: { name, type, files, action, verify, done, completed }
     - `PlanFile`: { path, content, frontmatter, tasks }
     - `TodoItem`: { text, completed, file }
     - `FileChangeEvent`: { type, changes, timestamp }
     - `WSMessage`: discriminated union of event types (file-changes, connected, error)

  6. **components.json** — shadcn CLI config for Aceternity UI registry:
     ```json
     {
       "$schema": "https://ui.shadcn.com/schema.json",
       "style": "new-york",
       "rsc": true,
       "tsx": true,
       "tailwind": {
         "config": "",
         "css": "app/globals.css",
         "baseColor": "zinc",
         "cssVariables": true
       },
       "aliases": {
         "components": "@/components",
         "utils": "@/lib/utils"
       },
       "registries": {
         "@aceternity": "https://ui.aceternity.com/registry/{name}.json"
       }
     }
     ```
  </action>
  <verify>
    <automated>cd C:/Development/cli/maxsim/packages/dashboard && npx next build 2>&1 | tail -5</automated>
  </verify>
  <done>Root layout renders dark background, globals.css applies Swiss Style theme variables, cn() utility is importable, all dashboard types are defined, components.json ready for Aceternity CLI</done>
</task>

</tasks>

<verification>
1. `ls packages/dashboard/package.json` confirms package exists
2. `cat packages/dashboard/project.json | grep '"name": "dashboard"'` confirms NX registration
3. `cd packages/dashboard && npx next build` completes with exit code 0
4. `pnpm install` from root succeeds without unresolved peer deps
5. TypeScript types in lib/types.ts compile without errors
</verification>

<success_criteria>
- packages/dashboard is a buildable Next.js 15 App Router application
- Registered as an NX project with build and dev targets
- Dark Swiss Style Design theme applied via Tailwind v4 CSS-first config
- All core dependencies installed (ws, chokidar, motion, CodeMirror, detect-port, open)
- @maxsim/core linked via workspace:* protocol
- cn() utility available for Aceternity UI components
- Dashboard-specific types defined
</success_criteria>

<output>
After completion, create `.planning/phases/13-live-project-dashboard/13-01-SUMMARY.md`
</output>
