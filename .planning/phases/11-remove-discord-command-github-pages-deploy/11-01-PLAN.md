---
phase: 11-remove-discord-command-github-pages-deploy
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/templates/commands/maxsim/join-discord.md
  - packages/templates/workflows/help.md
  - docs/USER-GUIDE.md
  - CLAUDE.md
  - packages/website/src/components/sections/Docs.tsx
autonomous: true
requirements:
  - CMD-REMOVE-01
  - CMD-REMOVE-02

must_haves:
  truths:
    - "join-discord.md no longer exists in packages/templates/commands/maxsim/"
    - "No reference to /maxsim:join-discord appears in shipped workflow docs or user guides"
    - "All hardcoded command counts updated from 31 to 30 across source files"
    - "The help.md workflow no longer lists the join-discord section"
  artifacts:
    - path: "packages/templates/commands/maxsim/join-discord.md"
      provides: "deleted — must not exist"
    - path: "packages/templates/workflows/help.md"
      provides: "updated — join-discord section removed"
      contains: "join-discord must NOT appear"
    - path: "CLAUDE.md"
      provides: "updated — command count 30"
      contains: "30 files"
    - path: "packages/website/src/components/sections/Docs.tsx"
      provides: "updated — command count 30 in two places"
    - path: "docs/USER-GUIDE.md"
      provides: "updated — join-discord row removed from command table"
  key_links:
    - from: "packages/templates/commands/maxsim/"
      to: "install.ts file copy loop"
      via: "fs.readdirSync reads this directory — after deletion, join-discord.md will not be included in any new install"
      pattern: "join-discord must not appear in readdirSync output"
    - from: "packages/templates/workflows/help.md"
      to: "installed ~/.claude/maxsim/workflows/help.md"
      via: "install.ts copies workflows/ directory — removing the section here prevents it reaching user installs"
      pattern: "join-discord section removed"
---

<objective>
Remove the `/maxsim:join-discord` command from the shipped command set and update all hardcoded "31 commands" count references to "30" across source files.

Purpose: Shipped commands should reflect the actual product — a Discord community link command is not a core workflow tool. Stale count references in docs and website code create confusion.
Output: `join-discord.md` deleted from templates, help workflow updated, user guide updated, CLAUDE.md updated, website Docs.tsx updated.
</objective>

<execution_context>
@./workflows/execute-plan.md
@./templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-remove-discord-command-github-pages-deploy/11-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete join-discord.md from templates</name>
  <files>packages/templates/commands/maxsim/join-discord.md</files>
  <action>
    Delete the file `packages/templates/commands/maxsim/join-discord.md`.

    Use the Bash tool: `rm "packages/templates/commands/maxsim/join-discord.md"`

    This is the canonical source file — deleting it here means `install.ts` will no longer copy it to user environments on the next install. The file is currently the only command being removed; no other command files are affected.

    After deletion, confirm the file count in `packages/templates/commands/maxsim/` drops from 31 to 30:
    `ls packages/templates/commands/maxsim/ | wc -l` should output `30`.
  </action>
  <verify>
    <automated>ls "packages/templates/commands/maxsim/join-discord.md" 2>/dev/null && echo "FAIL: file still exists" || echo "PASS: file deleted"</automated>
  </verify>
  <done>
    `packages/templates/commands/maxsim/join-discord.md` does not exist. Directory contains exactly 30 `.md` files.
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove join-discord from help.md workflow and update command counts</name>
  <files>
    packages/templates/workflows/help.md
    docs/USER-GUIDE.md
    CLAUDE.md
    packages/website/src/components/sections/Docs.tsx
  </files>
  <action>
    Make the following four targeted edits:

    **1. `packages/templates/workflows/help.md`**
    Read the file. Find and remove the join-discord section. The section to remove is exactly:

    ```
    **`/maxsim:join-discord`**
    Join the MAXSIM Discord community.

    - Get help, share what you're building, stay updated
    - Connect with other MAXSIM users

    Usage: `/maxsim:join-discord`
    ```

    This block appears near line 339 (after the `/maxsim:update` section and before the `## Files & Structure` heading). Remove it entirely including any blank lines that were separating it from the next section. Do not remove the `## Files & Structure` heading or anything after it.

    **2. `docs/USER-GUIDE.md`**
    Read the file. Find and remove the table row:
    ```
    | `/maxsim:join-discord` | Open Discord community invite | Questions or community |
    ```
    This row appears in the "Session Management" commands table near line 181. Remove only that single row; leave all other rows intact.

    **3. `CLAUDE.md`**
    Read the file. On line 37, change:
    ```
    commands/maxsim/*.md       ← User-facing command specs (31 files, user types /maxsim:*)
    ```
    to:
    ```
    commands/maxsim/*.md       ← User-facing command specs (30 files, user types /maxsim:*)
    ```

    **4. `packages/website/src/components/sections/Docs.tsx`**
    Read the file. Make two replacements:
    - Line ~110: Change `# 31 user-facing commands (/gsd:*)` to `# 30 user-facing commands (/gsd:*)`
    - Line ~227: Change `# User-facing command specs (31 files)` to `# User-facing command specs (30 files)`

    These are inside JSX template literals (backtick strings), so use the Read tool to confirm exact content before writing.

    After all edits, verify no remaining references to `join-discord` exist in source files (excluding `.planning/`, `dist/`, `.git/`, `tmp/`, `.nx/`, `.claude/`).
  </action>
  <verify>
    <automated>grep -rn "join.discord" packages/templates/ docs/ CLAUDE.md packages/website/src/ 2>/dev/null | wc -l | xargs -I{} test {} -eq 0 && echo "PASS: no join-discord refs in source" || echo "FAIL: join-discord refs remain"</automated>
  </verify>
  <done>
    - `packages/templates/workflows/help.md` contains no reference to `join-discord`
    - `docs/USER-GUIDE.md` table no longer has the join-discord row
    - `CLAUDE.md` shows "30 files" in the three-layer structure diagram
    - `packages/website/src/components/sections/Docs.tsx` shows "30" in both code block strings
    - Zero `join-discord` occurrences in `packages/templates/`, `docs/`, `CLAUDE.md`, `packages/website/src/`
  </done>
</task>

</tasks>

<verification>
Run these checks after both tasks complete:

1. File deleted: `ls packages/templates/commands/maxsim/ | wc -l` outputs `30`
2. No join-discord in source: `grep -rn "join.discord" packages/templates/ docs/ CLAUDE.md packages/website/src/` returns no output
3. Count references updated: `grep -rn "31 files\|31 command\|31 user" packages/ docs/ CLAUDE.md` returns no output
</verification>

<success_criteria>
- `packages/templates/commands/maxsim/join-discord.md` does not exist
- `packages/templates/commands/maxsim/` contains exactly 30 `.md` files
- Zero occurrences of `join-discord` in: `packages/templates/`, `docs/`, `CLAUDE.md`, `packages/website/src/`
- Zero occurrences of "31 files" or "31 commands" or "31 user-facing" in source files
</success_criteria>

<output>
After completion, create `.planning/phases/11-remove-discord-command-github-pages-deploy/11-01-SUMMARY.md`
</output>
